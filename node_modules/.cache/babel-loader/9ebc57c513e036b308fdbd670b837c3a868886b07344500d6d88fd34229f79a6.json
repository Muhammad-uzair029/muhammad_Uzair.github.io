{"ast":null,"code":"import { Fragment as _Fragment, jsx as _jsx } from \"react/jsx-runtime\";\nimport { useCallback, useEffect, useRef, useState } from 'react';\nimport insertCursor from '../utils/insertCursor';\nimport { defaultSplitter, emptyFunc } from '../utils/defaultFuncs';\nimport getTypedChildrenArray from '../utils/getTypedChildrenArray';\nimport getActions from '../utils/getActions';\nconst Main = ({\n  cursor,\n  disabled = false,\n  restartKey,\n  children,\n  splitter = defaultSplitter,\n  typingDelay = 75,\n  backspaceDelay = typingDelay,\n  onTypingDone,\n  startDelay = 0,\n  finishDelay = 0,\n  loop = false,\n  pause = false,\n  hideCursorWhenDone = false\n}) => {\n  const [typedChildrenArray, setTypedChildrenArray] = useState([]);\n  const [currentIndex, setCurrentIndex] = useState(-1);\n  const clearTimerRef = useRef(emptyFunc);\n  const loopRef = useRef(loop);\n  const pauseRef = useRef(pause);\n  const hideCursorWhenDoneRef = useRef(hideCursorWhenDone);\n  const [showCursor, setShowCursor] = useState(true);\n  const timeoutPromise = useCallback(delay => {\n    return new Promise((resolve, reject) => {\n      const ms = typeof delay === 'number' ? delay : delay();\n      const timeoutId = setTimeout(resolve, ms);\n      clearTimerRef.current = () => {\n        clearTimeout(timeoutId);\n        reject();\n      };\n    });\n  }, []);\n  const pausePromise = useCallback(() => {\n    return new Promise((resolve, reject) => {\n      const intervalId = setInterval(() => {\n        if (!pauseRef.current) {\n          clearInterval(intervalId);\n          resolve();\n        }\n      });\n      clearTimerRef.current = () => {\n        clearInterval(intervalId);\n        reject();\n      };\n    });\n  }, []);\n  const loopPromise = useCallback(() => {\n    return new Promise((resolve, reject) => {\n      const intervalId = setInterval(() => {\n        if (loopRef.current) {\n          clearInterval(intervalId);\n          resolve();\n        }\n      });\n      clearTimerRef.current = () => {\n        clearInterval(intervalId);\n        reject();\n      };\n    });\n  }, []);\n  useEffect(() => {\n    loopRef.current = loop;\n    pauseRef.current = pause;\n    hideCursorWhenDoneRef.current = hideCursorWhenDone;\n  }, [loop, pause, hideCursorWhenDone]);\n  useEffect(() => {\n    const typedChildrenArray = getTypedChildrenArray(children, splitter);\n    setTypedChildrenArray(typedChildrenArray);\n    if (disabled) {\n      setCurrentIndex(typedChildrenArray.length - 1);\n      return;\n    }\n    (async () => {\n      try {\n        do {\n          setShowCursor(true);\n          setCurrentIndex(-1);\n          const actions = getActions(children, splitter);\n          if (startDelay > 0) await timeoutPromise(startDelay);\n          for (const {\n            type,\n            payload\n          } of actions) {\n            if (pauseRef.current) await pausePromise();\n            if (type === 'TYPE_TOKEN') {\n              setCurrentIndex(prev => prev + 1);\n              await timeoutPromise(typingDelay);\n            } else if (type === 'BACKSPACE') {\n              let amount = payload;\n              while (amount--) {\n                setCurrentIndex(prev => prev + 1);\n                await timeoutPromise(backspaceDelay);\n              }\n            } else if (type === 'PASTE') {\n              setCurrentIndex(prev => prev + 1);\n            } else if (type === 'DELAY') {\n              await timeoutPromise(payload);\n            }\n          }\n          onTypingDone?.();\n          if (hideCursorWhenDoneRef.current) setShowCursor(false);\n          if (finishDelay > 0) await timeoutPromise(finishDelay);\n          if (!loopRef.current) await loopPromise();\n        } while (loopRef.current);\n      } catch (error) {\n        // do nothing\n      }\n    })();\n    return () => {\n      clearTimerRef.current();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [restartKey, disabled]);\n  const typedChildren = typedChildrenArray[currentIndex];\n  return _jsx(_Fragment, {\n    children: cursor && showCursor ? insertCursor(typedChildren, cursor) : typedChildren\n  });\n};\nexport default Main;","map":{"version":3,"names":["Fragment","_Fragment","jsx","_jsx","useCallback","useEffect","useRef","useState","insertCursor","defaultSplitter","emptyFunc","getTypedChildrenArray","getActions","Main","cursor","disabled","restartKey","children","splitter","typingDelay","backspaceDelay","onTypingDone","startDelay","finishDelay","loop","pause","hideCursorWhenDone","typedChildrenArray","setTypedChildrenArray","currentIndex","setCurrentIndex","clearTimerRef","loopRef","pauseRef","hideCursorWhenDoneRef","showCursor","setShowCursor","timeoutPromise","delay","Promise","resolve","reject","ms","timeoutId","setTimeout","current","clearTimeout","pausePromise","intervalId","setInterval","clearInterval","loopPromise","length","actions","type","payload","prev","amount","error","typedChildren"],"sources":["/Users/softaims/Desktop/muhammad_Uzair/muhammad_Uzair/node_modules/react-typist-component/dist/components/Main.js"],"sourcesContent":["import { Fragment as _Fragment, jsx as _jsx } from \"react/jsx-runtime\";\nimport { useCallback, useEffect, useRef, useState } from 'react';\nimport insertCursor from '../utils/insertCursor';\nimport { defaultSplitter, emptyFunc } from '../utils/defaultFuncs';\nimport getTypedChildrenArray from '../utils/getTypedChildrenArray';\nimport getActions from '../utils/getActions';\nconst Main = ({ cursor, disabled = false, restartKey, children, splitter = defaultSplitter, typingDelay = 75, backspaceDelay = typingDelay, onTypingDone, startDelay = 0, finishDelay = 0, loop = false, pause = false, hideCursorWhenDone = false, }) => {\n    const [typedChildrenArray, setTypedChildrenArray] = useState([]);\n    const [currentIndex, setCurrentIndex] = useState(-1);\n    const clearTimerRef = useRef(emptyFunc);\n    const loopRef = useRef(loop);\n    const pauseRef = useRef(pause);\n    const hideCursorWhenDoneRef = useRef(hideCursorWhenDone);\n    const [showCursor, setShowCursor] = useState(true);\n    const timeoutPromise = useCallback((delay) => {\n        return new Promise((resolve, reject) => {\n            const ms = typeof delay === 'number' ? delay : delay();\n            const timeoutId = setTimeout(resolve, ms);\n            clearTimerRef.current = () => {\n                clearTimeout(timeoutId);\n                reject();\n            };\n        });\n    }, []);\n    const pausePromise = useCallback(() => {\n        return new Promise((resolve, reject) => {\n            const intervalId = setInterval(() => {\n                if (!pauseRef.current) {\n                    clearInterval(intervalId);\n                    resolve();\n                }\n            });\n            clearTimerRef.current = () => {\n                clearInterval(intervalId);\n                reject();\n            };\n        });\n    }, []);\n    const loopPromise = useCallback(() => {\n        return new Promise((resolve, reject) => {\n            const intervalId = setInterval(() => {\n                if (loopRef.current) {\n                    clearInterval(intervalId);\n                    resolve();\n                }\n            });\n            clearTimerRef.current = () => {\n                clearInterval(intervalId);\n                reject();\n            };\n        });\n    }, []);\n    useEffect(() => {\n        loopRef.current = loop;\n        pauseRef.current = pause;\n        hideCursorWhenDoneRef.current = hideCursorWhenDone;\n    }, [loop, pause, hideCursorWhenDone]);\n    useEffect(() => {\n        const typedChildrenArray = getTypedChildrenArray(children, splitter);\n        setTypedChildrenArray(typedChildrenArray);\n        if (disabled) {\n            setCurrentIndex(typedChildrenArray.length - 1);\n            return;\n        }\n        (async () => {\n            try {\n                do {\n                    setShowCursor(true);\n                    setCurrentIndex(-1);\n                    const actions = getActions(children, splitter);\n                    if (startDelay > 0)\n                        await timeoutPromise(startDelay);\n                    for (const { type, payload } of actions) {\n                        if (pauseRef.current)\n                            await pausePromise();\n                        if (type === 'TYPE_TOKEN') {\n                            setCurrentIndex(prev => prev + 1);\n                            await timeoutPromise(typingDelay);\n                        }\n                        else if (type === 'BACKSPACE') {\n                            let amount = payload;\n                            while (amount--) {\n                                setCurrentIndex(prev => prev + 1);\n                                await timeoutPromise(backspaceDelay);\n                            }\n                        }\n                        else if (type === 'PASTE') {\n                            setCurrentIndex(prev => prev + 1);\n                        }\n                        else if (type === 'DELAY') {\n                            await timeoutPromise(payload);\n                        }\n                    }\n                    onTypingDone?.();\n                    if (hideCursorWhenDoneRef.current)\n                        setShowCursor(false);\n                    if (finishDelay > 0)\n                        await timeoutPromise(finishDelay);\n                    if (!loopRef.current)\n                        await loopPromise();\n                } while (loopRef.current);\n            }\n            catch (error) {\n                // do nothing\n            }\n        })();\n        return () => {\n            clearTimerRef.current();\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [restartKey, disabled]);\n    const typedChildren = typedChildrenArray[currentIndex];\n    return (_jsx(_Fragment, { children: cursor && showCursor\n            ? insertCursor(typedChildren, cursor)\n            : typedChildren }));\n};\nexport default Main;\n"],"mappings":"AAAA,SAASA,QAAQ,IAAIC,SAAS,EAAEC,GAAG,IAAIC,IAAI,QAAQ,mBAAmB;AACtE,SAASC,WAAW,EAAEC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAChE,OAAOC,YAAY,MAAM,uBAAuB;AAChD,SAASC,eAAe,EAAEC,SAAS,QAAQ,uBAAuB;AAClE,OAAOC,qBAAqB,MAAM,gCAAgC;AAClE,OAAOC,UAAU,MAAM,qBAAqB;AAC5C,MAAMC,IAAI,GAAGA,CAAC;EAAEC,MAAM;EAAEC,QAAQ,GAAG,KAAK;EAAEC,UAAU;EAAEC,QAAQ;EAAEC,QAAQ,GAAGT,eAAe;EAAEU,WAAW,GAAG,EAAE;EAAEC,cAAc,GAAGD,WAAW;EAAEE,YAAY;EAAEC,UAAU,GAAG,CAAC;EAAEC,WAAW,GAAG,CAAC;EAAEC,IAAI,GAAG,KAAK;EAAEC,KAAK,GAAG,KAAK;EAAEC,kBAAkB,GAAG;AAAO,CAAC,KAAK;EACtP,MAAM,CAACC,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGrB,QAAQ,CAAC,EAAE,CAAC;EAChE,MAAM,CAACsB,YAAY,EAAEC,eAAe,CAAC,GAAGvB,QAAQ,CAAC,CAAC,CAAC,CAAC;EACpD,MAAMwB,aAAa,GAAGzB,MAAM,CAACI,SAAS,CAAC;EACvC,MAAMsB,OAAO,GAAG1B,MAAM,CAACkB,IAAI,CAAC;EAC5B,MAAMS,QAAQ,GAAG3B,MAAM,CAACmB,KAAK,CAAC;EAC9B,MAAMS,qBAAqB,GAAG5B,MAAM,CAACoB,kBAAkB,CAAC;EACxD,MAAM,CAACS,UAAU,EAAEC,aAAa,CAAC,GAAG7B,QAAQ,CAAC,IAAI,CAAC;EAClD,MAAM8B,cAAc,GAAGjC,WAAW,CAAEkC,KAAK,IAAK;IAC1C,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;MACpC,MAAMC,EAAE,GAAG,OAAOJ,KAAK,KAAK,QAAQ,GAAGA,KAAK,GAAGA,KAAK,CAAC,CAAC;MACtD,MAAMK,SAAS,GAAGC,UAAU,CAACJ,OAAO,EAAEE,EAAE,CAAC;MACzCX,aAAa,CAACc,OAAO,GAAG,MAAM;QAC1BC,YAAY,CAACH,SAAS,CAAC;QACvBF,MAAM,CAAC,CAAC;MACZ,CAAC;IACL,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EACN,MAAMM,YAAY,GAAG3C,WAAW,CAAC,MAAM;IACnC,OAAO,IAAImC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;MACpC,MAAMO,UAAU,GAAGC,WAAW,CAAC,MAAM;QACjC,IAAI,CAAChB,QAAQ,CAACY,OAAO,EAAE;UACnBK,aAAa,CAACF,UAAU,CAAC;UACzBR,OAAO,CAAC,CAAC;QACb;MACJ,CAAC,CAAC;MACFT,aAAa,CAACc,OAAO,GAAG,MAAM;QAC1BK,aAAa,CAACF,UAAU,CAAC;QACzBP,MAAM,CAAC,CAAC;MACZ,CAAC;IACL,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EACN,MAAMU,WAAW,GAAG/C,WAAW,CAAC,MAAM;IAClC,OAAO,IAAImC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;MACpC,MAAMO,UAAU,GAAGC,WAAW,CAAC,MAAM;QACjC,IAAIjB,OAAO,CAACa,OAAO,EAAE;UACjBK,aAAa,CAACF,UAAU,CAAC;UACzBR,OAAO,CAAC,CAAC;QACb;MACJ,CAAC,CAAC;MACFT,aAAa,CAACc,OAAO,GAAG,MAAM;QAC1BK,aAAa,CAACF,UAAU,CAAC;QACzBP,MAAM,CAAC,CAAC;MACZ,CAAC;IACL,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EACNpC,SAAS,CAAC,MAAM;IACZ2B,OAAO,CAACa,OAAO,GAAGrB,IAAI;IACtBS,QAAQ,CAACY,OAAO,GAAGpB,KAAK;IACxBS,qBAAqB,CAACW,OAAO,GAAGnB,kBAAkB;EACtD,CAAC,EAAE,CAACF,IAAI,EAAEC,KAAK,EAAEC,kBAAkB,CAAC,CAAC;EACrCrB,SAAS,CAAC,MAAM;IACZ,MAAMsB,kBAAkB,GAAGhB,qBAAqB,CAACM,QAAQ,EAAEC,QAAQ,CAAC;IACpEU,qBAAqB,CAACD,kBAAkB,CAAC;IACzC,IAAIZ,QAAQ,EAAE;MACVe,eAAe,CAACH,kBAAkB,CAACyB,MAAM,GAAG,CAAC,CAAC;MAC9C;IACJ;IACA,CAAC,YAAY;MACT,IAAI;QACA,GAAG;UACChB,aAAa,CAAC,IAAI,CAAC;UACnBN,eAAe,CAAC,CAAC,CAAC,CAAC;UACnB,MAAMuB,OAAO,GAAGzC,UAAU,CAACK,QAAQ,EAAEC,QAAQ,CAAC;UAC9C,IAAII,UAAU,GAAG,CAAC,EACd,MAAMe,cAAc,CAACf,UAAU,CAAC;UACpC,KAAK,MAAM;YAAEgC,IAAI;YAAEC;UAAQ,CAAC,IAAIF,OAAO,EAAE;YACrC,IAAIpB,QAAQ,CAACY,OAAO,EAChB,MAAME,YAAY,CAAC,CAAC;YACxB,IAAIO,IAAI,KAAK,YAAY,EAAE;cACvBxB,eAAe,CAAC0B,IAAI,IAAIA,IAAI,GAAG,CAAC,CAAC;cACjC,MAAMnB,cAAc,CAAClB,WAAW,CAAC;YACrC,CAAC,MACI,IAAImC,IAAI,KAAK,WAAW,EAAE;cAC3B,IAAIG,MAAM,GAAGF,OAAO;cACpB,OAAOE,MAAM,EAAE,EAAE;gBACb3B,eAAe,CAAC0B,IAAI,IAAIA,IAAI,GAAG,CAAC,CAAC;gBACjC,MAAMnB,cAAc,CAACjB,cAAc,CAAC;cACxC;YACJ,CAAC,MACI,IAAIkC,IAAI,KAAK,OAAO,EAAE;cACvBxB,eAAe,CAAC0B,IAAI,IAAIA,IAAI,GAAG,CAAC,CAAC;YACrC,CAAC,MACI,IAAIF,IAAI,KAAK,OAAO,EAAE;cACvB,MAAMjB,cAAc,CAACkB,OAAO,CAAC;YACjC;UACJ;UACAlC,YAAY,GAAG,CAAC;UAChB,IAAIa,qBAAqB,CAACW,OAAO,EAC7BT,aAAa,CAAC,KAAK,CAAC;UACxB,IAAIb,WAAW,GAAG,CAAC,EACf,MAAMc,cAAc,CAACd,WAAW,CAAC;UACrC,IAAI,CAACS,OAAO,CAACa,OAAO,EAChB,MAAMM,WAAW,CAAC,CAAC;QAC3B,CAAC,QAAQnB,OAAO,CAACa,OAAO;MAC5B,CAAC,CACD,OAAOa,KAAK,EAAE;QACV;MAAA;IAER,CAAC,EAAE,CAAC;IACJ,OAAO,MAAM;MACT3B,aAAa,CAACc,OAAO,CAAC,CAAC;IAC3B,CAAC;IACD;EACJ,CAAC,EAAE,CAAC7B,UAAU,EAAED,QAAQ,CAAC,CAAC;EAC1B,MAAM4C,aAAa,GAAGhC,kBAAkB,CAACE,YAAY,CAAC;EACtD,OAAQ1B,IAAI,CAACF,SAAS,EAAE;IAAEgB,QAAQ,EAAEH,MAAM,IAAIqB,UAAU,GAC9C3B,YAAY,CAACmD,aAAa,EAAE7C,MAAM,CAAC,GACnC6C;EAAc,CAAC,CAAC;AAC9B,CAAC;AACD,eAAe9C,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}